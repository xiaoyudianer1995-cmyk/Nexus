<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEXUS LAUNCHPAD 2121</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=IBM+Plex+Mono:wght@400;600&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, #0a0e1a 0%, #1a0e2e 50%, #16213e 100%);
      color: #00fff7;
      font-family: 'IBM Plex Mono', monospace;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* Animated background grid */
    .bg-grid {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(0deg, transparent 24%, rgba(0, 255, 247, 0.05) 25%, rgba(0, 255, 247, 0.05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 247, 0.05) 75%, rgba(0, 255, 247, 0.05) 76%, transparent 77%, transparent),
        linear-gradient(90deg, transparent 24%, rgba(0, 255, 247, 0.05) 25%, rgba(0, 255, 247, 0.05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 247, 0.05) 75%, rgba(0, 255, 247, 0.05) 76%, transparent 77%, transparent);
      background-size: 50px 50px;
      z-index: 0;
      pointer-events: none;
      animation: grid-move 20s linear infinite;
    }

    @keyframes grid-move {
      0% { transform: translateY(0); }
      100% { transform: translateY(50px); }
    }

    .neon-cyan {
      color: #00fff7;
      text-shadow: 0 0 10px #00fff7, 0 0 20px #00a8cc;
    }

    .neon-violet {
      color: #e400ff;
      text-shadow: 0 0 10px #e400ff, 0 0 20px #a000cc;
    }

    .glass-panel {
      background: rgba(20, 30, 50, 0.6);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 255, 247, 0.2);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .glass-panel::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: linear-gradient(90deg, transparent, #00fff7, transparent);
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }

    .glass-panel:hover {
      border-color: rgba(0, 255, 247, 0.5);
      box-shadow: 0 0 30px rgba(0, 255, 247, 0.2), inset 0 0 30px rgba(0, 255, 247, 0.05);
    }

    input, textarea, select {
      background: rgba(10, 20, 40, 0.8);
      border: 1px solid rgba(0, 255, 247, 0.3);
      border-radius: 8px;
      color: #00fff7;
      padding: 12px 16px;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 14px;
      transition: all 0.3s ease;
      width: 100%;
    }

    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: #00fff7;
      box-shadow: 0 0 20px rgba(0, 255, 247, 0.3), inset 0 0 10px rgba(0, 255, 247, 0.1);
    }

    .btn-primary {
      background: linear-gradient(135deg, #00fff7 0%, #0099cc 100%);
      color: #0a0e1a;
      border: none;
      padding: 12px 32px;
      border-radius: 8px;
      font-weight: 600;
      font-family: 'Space Mono', monospace;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 20px rgba(0, 255, 247, 0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 12px;
      width: 100%;
    }

    .btn-primary:hover {
      box-shadow: 0 0 40px rgba(0, 255, 247, 0.8), 0 0 60px rgba(0, 255, 247, 0.5);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: rgba(0, 255, 247, 0.1);
      color: #00fff7;
      border: 1px solid #00fff7;
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-family: 'Space Mono', monospace;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 11px;
    }

    .btn-secondary:hover {
      background: rgba(0, 255, 247, 0.2);
      box-shadow: 0 0 20px rgba(0, 255, 247, 0.4);
    }

    .console {
      background: rgba(5, 10, 20, 0.9);
      border: 1px solid rgba(0, 255, 247, 0.3);
      border-radius: 8px;
      padding: 16px;
      height: 200px;
      overflow-y: auto;
      font-size: 12px;
      line-height: 1.6;
      font-family: 'Space Mono', monospace;
      position: relative;
    }

    .console::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        repeating-linear-gradient(
          0deg,
          rgba(0, 255, 247, 0.03),
          rgba(0, 255, 247, 0.03) 1px,
          transparent 1px,
          transparent 2px
        );
      pointer-events: none;
      animation: scanlines 8s linear infinite;
    }

    @keyframes scanlines {
      0% { transform: translateY(0); }
      100% { transform: translateY(2px); }
    }

    .console-line {
      margin: 4px 0;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0, 255, 247, 0.05);
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(0, 255, 247, 0.3);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(0, 255, 247, 0.6);
    }

    label {
      display: block;
      color: #00fff7;
      font-size: 12px;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 16px;
    }

    @media (max-width: 768px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }
    }

    .section-label {
      color: #e400ff;
      font-size: 13px;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-weight: 700;
    }

    .neon-line-top {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #00fff7, #e400ff, transparent);
      box-shadow: 0 0 30px rgba(0, 255, 247, 0.6);
      z-index: 100;
    }

    .neon-line-bottom {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, #e400ff, #00fff7, transparent);
      box-shadow: 0 0 30px rgba(0, 255, 247, 0.6);
      z-index: 100;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 48px 24px;
      position: relative;
      z-index: 10;
    }

    .header {
      text-align: center;
      margin-bottom: 64px;
    }

    .header h1 {
      font-size: clamp(36px, 8vw, 72px);
      font-family: 'Space Mono', monospace;
      font-weight: 700;
      margin: 0;
      line-height: 1.1;
      letter-spacing: 2px;
    }

    .header-divider {
      width: 120px;
      height: 2px;
      background: linear-gradient(90deg, #00fff7, #e400ff);
      margin: 24px auto;
      box-shadow: 0 0 20px rgba(0, 255, 247, 0.5);
    }

    .header .subtitle {
      color: #00a8cc;
      font-size: 12px;
      letter-spacing: 3px;
      margin-top: 16px;
      text-transform: uppercase;
    }

    textarea {
      resize: none;
      min-height: 100px;
    }

    .flex-row {
      display: flex;
      gap: 12px;
    }

    .flex-1 {
      flex: 1;
    }

    .image-preview {
      background: rgba(10, 20, 40, 0.8);
      border: 1px solid rgba(0, 255, 247, 0.3);
      border-radius: 8px;
      padding: 32px;
      text-align: center;
      margin-bottom: 12px;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .image-preview img {
      width: 100px;
      height: 100px;
      border-radius: 8px;
    }

    .mt-16 { margin-top: 16px; }
    .mb-16 { margin-bottom: 16px; }
    .mt-24 { margin-top: 24px; }

    .network-info {
      font-size: 11px;
      color: #0099cc;
      margin-top: 8px;
      padding: 8px;
      background: rgba(0, 153, 204, 0.1);
      border-radius: 4px;
    }

    .network-warning {
      font-size: 11px;
      color: #ffaa00;
      margin-top: 8px;
      padding: 8px;
      background: rgba(255, 170, 0, 0.1);
      border-radius: 4px;
      display: none;
    }

    .network-warning.active {
      display: block;
    }

    /* Toggle Switch Styles */
    .toggle-container {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
      padding: 12px;
      background: rgba(0, 255, 247, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(0, 255, 247, 0.2);
    }

    .toggle-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
      margin: 0;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 255, 247, 0.2);
      transition: 0.4s;
      border-radius: 30px;
      border: 1px solid rgba(0, 255, 247, 0.3);
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: #00fff7;
      transition: 0.4s;
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(0, 255, 247, 0.6);
    }

    input:checked + .toggle-slider {
      background-color: rgba(228, 0, 255, 0.2);
      border-color: #e400ff;
    }

    input:checked + .toggle-slider:before {
      transform: translateX(30px);
      background-color: #e400ff;
      box-shadow: 0 0 10px rgba(228, 0, 255, 0.6);
    }

    .network-status {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }

    .status-badge {
      flex: 1;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid rgba(0, 255, 247, 0.3);
      text-align: center;
      font-size: 11px;
      text-transform: uppercase;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .status-badge.devnet {
      background: rgba(100, 200, 255, 0.1);
      border-color: rgba(100, 200, 255, 0.3);
      color: #64c8ff;
    }

    .status-badge.mainnet {
      background: rgba(228, 0, 255, 0.1);
      border-color: rgba(228, 0, 255, 0.3);
      color: #e400ff;
    }

    .status-badge.active {
      box-shadow: 0 0 20px currentColor;
      border-color: currentColor;
    }

    /* Wallet Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(10, 14, 26, 0.8);
      backdrop-filter: blur(5px);
      animation: fadeIn 0.3s ease;
    }

    .modal.show {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background: linear-gradient(135deg, rgba(20, 30, 50, 0.95) 0%, rgba(30, 20, 60, 0.95) 100%);
      border: 1px solid rgba(0, 255, 247, 0.3);
      border-radius: 16px;
      padding: 32px;
      max-width: 500px;
      width: 90%;
      position: relative;
      box-shadow: 0 0 60px rgba(0, 255, 247, 0.3);
      animation: slideUp 0.3s ease;
    }

    @keyframes slideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .close-btn {
      position: absolute;
      top: 16px;
      right: 16px;
      font-size: 28px;
      font-weight: bold;
      color: #00fff7;
      cursor: pointer;
      border: none;
      background: none;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      color: #e400ff;
      transform: rotate(90deg);
    }

    .modal-title {
      color: #00fff7;
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .modal-subtitle {
      color: #0099cc;
      font-size: 12px;
      margin-bottom: 24px;
    }

    .wallet-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }

    @media (max-width: 480px) {
      .wallet-grid {
        grid-template-columns: 1fr;
      }
    }

    .wallet-btn {
      background: rgba(0, 255, 247, 0.1);
      border: 1px solid rgba(0, 255, 247, 0.3);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      color: #00fff7;
      font-family: 'Space Mono', monospace;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .wallet-btn:hover {
      background: rgba(0, 255, 247, 0.2);
      border-color: #00fff7;
      box-shadow: 0 0 20px rgba(0, 255, 247, 0.4);
      transform: translateY(-2px);
    }

    .wallet-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .wallet-status {
      margin-top: 16px;
      padding: 12px;
      background: rgba(0, 255, 247, 0.05);
      border: 1px solid rgba(0, 255, 247, 0.2);
      border-radius: 8px;
      font-size: 11px;
      color: #0099cc;
      text-align: center;
    }

    .wallet-connected {
      background: rgba(0, 255, 136, 0.1);
      border-color: rgba(0, 255, 136, 0.3);
      color: #00ff88;
    }

    .wallet-address {
      color: #00fff7;
      font-weight: 700;
      word-break: break-all;
      font-size: 10px;
      margin-top: 8px;
    }

    .disconnect-btn {
      margin-top: 16px;
      background: rgba(255, 0, 85, 0.1);
      border: 1px solid rgba(255, 0, 85, 0.3);
      color: #ff0055;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-family: 'Space Mono', monospace;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      transition: all 0.3s ease;
      width: 100%;
    }

    .disconnect-btn:hover {
      background: rgba(255, 0, 85, 0.2);
      border-color: #ff0055;
      box-shadow: 0 0 15px rgba(255, 0, 85, 0.3);
    }
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="neon-line-top"></div>
  <div class="neon-line-bottom"></div>

  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>
        <span class="neon-cyan">NEXUS</span><br>
        <span class="neon-violet">LAUNCHPAD</span>
      </h1>
      <div class="header-divider"></div>
      <p class="subtitle">Precision Token Deployment System</p>
      <p style="color: #0099cc; font-size: 11px; margin-top: 8px; letter-spacing: 2px;">YEAR 2121</p>
    </div>

    <!-- Network Toggle -->
    <div class="glass-panel">
      <div class="section-label">// NETWORK SELECTION</div>
      
      <div class="toggle-container">
        <label class="toggle-label">Select Network:</label>
        <label class="toggle-switch">
          <input type="checkbox" id="networkToggle" onchange="toggleNetwork()">
          <span class="toggle-slider"></span>
        </label>
        <span id="networkLabel" style="color: #64c8ff; font-weight: bold;">DEVNET</span>
      </div>

      <div class="network-status">
        <div class="status-badge devnet active" id="devnetBadge">
          ‚óÜ Devnet (Staging)<br><small>Safe Testing</small>
        </div>
        <div class="status-badge mainnet" id="mainnetBadge">
          ‚óÜ Mainnet<br><small>Production</small>
        </div>
      </div>

      <div class="network-info" id="networkInfo">
        RPC: <strong>https://api.devnet.solana.com</strong>
      </div>

      <div class="network-warning" id="networkWarning">
        ‚ö† WARNING: MAINNET MODE - Tokens created here will be on Solana Mainnet. Use with extreme caution!
      </div>
    </div>

    <!-- Node Uplink -->
    <div class="glass-panel">
      <div class="section-label">// NODE UPLINK</div>
      
      <label>GRPC Endpoint</label>
      <div class="flex-row mb-16">
        <input type="text" id="grpcInput" placeholder="grpc.nexus2121.io:443" class="flex-1">
        <button class="btn-secondary" onclick="testGRPC()">Test</button>
      </div>

      <button class="btn-primary" onclick="connectNode()">Connect Node</button>
    </div>

    <!-- Wallet Identity -->
    <div class="glass-panel">
      <div class="section-label">// IDENTITY</div>
      
      <label>Authorized Wallet</label>
      <button class="btn-primary" id="walletBtn" onclick="openWalletModal()">CONNECT WALLET</button>
      
      <div id="walletStatus" style="margin-top: 12px; font-size: 12px; color: #00ff88; display: none;">
        <div>Status: <strong>‚úì Connected</strong></div>
        <div style="color: #00fff7; margin-top: 8px;">Wallet: <span id="walletName" style="font-weight: bold;">Phantom</span></div>
        <div style="color: #0099cc; margin-top: 4px; word-break: break-all; font-size: 10px;">
          Address: <span id="walletAddress"></span>
        </div>
      </div>
    </div>

    <!-- Wallet Modal -->
    <div id="walletModal" class="modal">
      <div class="modal-content">
        <button class="close-btn" onclick="closeWalletModal()">&times;</button>
        
        <div class="modal-title">Select Wallet</div>
        <div class="modal-subtitle">Choose your preferred Solana wallet to connect</div>

        <div class="wallet-grid">
          <button class="wallet-btn" onclick="connectPhantom()">
            <div class="wallet-icon">üëª</div>
            <span>Phantom</span>
            <small style="font-size: 10px; opacity: 0.7;">Desktop & Mobile</small>
          </button>
          
          <button class="wallet-btn" onclick="connectSolflare()">
            <div class="wallet-icon">üåü</div>
            <span>Solflare</span>
            <small style="font-size: 10px; opacity: 0.7;">Desktop & Mobile</small>
          </button>
          
          <button class="wallet-btn" onclick="connectMagicEden()">
            <div class="wallet-icon">‚ú®</div>
            <span>Magic Eden</span>
            <small style="font-size: 10px; opacity: 0.7;">Mobile</small>
          </button>
          
          <button class="wallet-btn" onclick="connectBackpack()">
            <div class="wallet-icon">üéí</div>
            <span>Backpack</span>
            <small style="font-size: 10px; opacity: 0.7;">Desktop & Mobile</small>
          </button>
        </div>

        <div class="wallet-status" id="walletStatusModal">
          Click on a wallet to connect. Ensure the wallet extension is installed in your browser.
        </div>

        <div id="connectedWalletInfo" style="display: none;">
          <div class="wallet-connected">
            <div style="margin-bottom: 8px;">‚úì Wallet Connected Successfully</div>
            <div class="wallet-address">
              <span id="connectedAddress"></span>
            </div>
          </div>
          <button class="disconnect-btn" onclick="disconnectWallet()">Disconnect Wallet</button>
        </div>
      </div>
    </div>

    <!-- Core Parameters -->
    <div class="glass-panel">
      <div class="section-label">// CORE PARAMETERS</div>

      <div class="grid-2">
        <div>
          <label>Token Name</label>
          <input type="text" id="tokenName" value="NEXUS ASSET">
        </div>
        <div>
          <label>Symbol</label>
          <input type="text" id="tokenSymbol" value="NXS">
        </div>
      </div>

      <label class="mt-16">Protocol Summary</label>
      <textarea id="tokenDesc">Next-generation token powered by Solana</textarea>

      <label class="mt-16">Visual Identity</label>
      <div class="image-preview" id="imagePreview">
        <div style="color: #0099cc; font-size: 14px;">Click below to upload image</div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;">
        <button class="btn-secondary" style="width: 100%;">Gallery</button>
        <label for="imageUpload" class="btn-secondary" style="width: 100%; cursor: pointer; margin: 0; display: flex; align-items: center; justify-content: center;">
          Upload
        </label>
        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
      </div>

      <div class="grid-2">
        <div>
          <label>Total Issuance</label>
          <input type="text" id="tokenSupply" value="1000000000">
        </div>
        <div>
          <label>Precision (Decimals)</label>
          <select id="tokenDecimals">
            <option value="6">6 Decimals</option>
            <option value="8">8 Decimals</option>
            <option value="9" selected>9 Decimals</option>
            <option value="18">18 Decimals</option>
          </select>
        </div>
      </div>

      <label class="mt-16">IPFS Gateway Key (Optional)</label>
      <div class="flex-row mb-16">
        <input type="password" placeholder="NFT.STORAGE_KEY" class="flex-1">
        <button class="btn-secondary" onclick="testIPFS()">Test</button>
      </div>

      <button class="btn-primary" onclick="deployToken()">Deploy Token</button>
    </div>

    <!-- Protocol Advisory -->
    <div class="glass-panel">
      <div class="section-label">// PROTOCOL ADVISORY</div>
      
      <div style="font-size: 12px; line-height: 1.8; color: #00a8cc;" id="advisoryText">
        <p>‚Ä¢ Deploying Token-2022 SPL standard to Solana DEVNET</p>
        <p>‚Ä¢ Network fees and transaction costs apply (SOL required)</p>
        <p>‚Ä¢ Verify all parameters before signing transaction</p>
        <p>‚Ä¢ Keep your private keys and recovery phrases secure</p>
        <p>‚Ä¢ Use devnet for safe testing before mainnet deployment</p>
      </div>
    </div>

    <!-- System Console -->
    <div class="glass-panel">
      <div class="section-label">// SYSTEM CONSOLE OUTPUT</div>
      
      <div class="console" id="console">
        <div class="console-line">[NEXUS_2121][INIT] System core activated...</div>
        <div class="console-line">[NEXUS_2121][SCAN] Running diagnostic check...</div>
        <div class="console-line">[NEXUS_2121][OK] All systems nominal.</div>
        <div class="console-line">[NEXUS_2121][NETWORK] Devnet selected - Safe testing environment</div>
      </div>
      
      <div style="font-size: 11px; color: #0099cc; margin-top: 12px; text-align: right;" id="consoleCount">
        4 entries ‚Ä¢ Real-time monitoring active
      </div>
    </div>
  </div>

  <script>
    // RPC Endpoints Configuration
    const RPC_ENDPOINTS = {
      devnet: 'https://api.devnet.solana.com',
      mainnet: 'https://mainnet.helius-rpc.com/?api-key=5efeb3ed-30ac-44d1-a80d-3f3b7b4bfe2d'
    };

    let walletConnected = false;
    let currentNetwork = 'devnet';
    let connectedWallet = null;
    let connectedAddress = null;

    function addLog(message) {
      const console = document.getElementById('console');
      const line = document.createElement('div');
      line.className = 'console-line';
      line.textContent = message;
      console.appendChild(line);
      console.scrollTop = console.scrollHeight;
      
      const count = console.querySelectorAll('.console-line').length;
      document.getElementById('consoleCount').textContent = count + ' entries ‚Ä¢ Real-time monitoring active';
    }

    function toggleNetwork() {
      const toggle = document.getElementById('networkToggle').checked;
      const networkLabel = document.getElementById('networkLabel');
      const networkInfo = document.getElementById('networkInfo');
      const networkWarning = document.getElementById('networkWarning');
      const devnetBadge = document.getElementById('devnetBadge');
      const mainnetBadge = document.getElementById('mainnetBadge');
      const advisoryText = document.getElementById('advisoryText');

      if (toggle) {
        currentNetwork = 'mainnet';
        networkLabel.textContent = 'MAINNET';
        networkLabel.style.color = '#e400ff';
        networkInfo.innerHTML = 'RPC: <strong>https://mainnet.helius-rpc.com</strong>';
        networkWarning.classList.add('active');
        devnetBadge.classList.remove('active');
        mainnetBadge.classList.add('active');
        advisoryText.innerHTML = `
          <p>‚Ä¢ Deploying Token-2022 SPL standard to Solana MAINNET</p>
          <p>‚Ä¢ ‚ö† MAINNET DEPLOYMENT - This is production. Use with caution!</p>
          <p>‚Ä¢ Network fees and transaction costs apply (SOL required)</p>
          <p>‚Ä¢ Verify all parameters before signing transaction</p>
          <p>‚Ä¢ Keep your private keys and recovery phrases secure</p>
        `;
        addLog('[NEXUS_2121][NETWORK] Switched to MAINNET - Production environment');
        addLog('[NEXUS_2121][WARNING] ‚ö† Mainnet mode activated. Please verify all details carefully!');
      } else {
        currentNetwork = 'devnet';
        networkLabel.textContent = 'DEVNET';
        networkLabel.style.color = '#64c8ff';
        networkInfo.innerHTML = 'RPC: <strong>https://api.devnet.solana.com</strong>';
        networkWarning.classList.remove('active');
        devnetBadge.classList.add('active');
        mainnetBadge.classList.remove('active');
        advisoryText.innerHTML = `
          <p>‚Ä¢ Deploying Token-2022 SPL standard to Solana DEVNET</p>
          <p>‚Ä¢ Network fees and transaction costs apply (SOL required)</p>
          <p>‚Ä¢ Verify all parameters before signing transaction</p>
          <p>‚Ä¢ Keep your private keys and recovery phrases secure</p>
          <p>‚Ä¢ Use devnet for safe testing before mainnet deployment</p>
        `;
        addLog('[NEXUS_2121][NETWORK] Switched to DEVNET - Safe testing environment');
      }
    }

    function openWalletModal() {
      document.getElementById('walletModal').classList.add('show');
      addLog('[NEXUS_2121][WALLET] Opening wallet connection dialog...');
    }

    function closeWalletModal() {
      document.getElementById('walletModal').classList.remove('show');
    }

    // Simulated wallet connections
    async function connectPhantom() {
      addLog('[NEXUS_2121][WALLET] Attempting to connect Phantom wallet...');
      
      // Check if Phantom is installed
      if (!window.solana) {
        addLog('[NEXUS_2121][ERROR] Phantom wallet not detected. Installing extension required.');
        document.getElementById('walletStatusModal').innerHTML = '‚ùå Phantom wallet not found. <a href="https://phantom.app/" target="_blank" style="color: #00fff7; text-decoration: underline;">Install Phantom</a>';
        return;
      }

      try {
        // Request connection to Phantom
        const response = await window.solana.connect();
        connectedWallet = 'Phantom';
        connectedAddress = response.publicKey.toString();
        walletConnected = true;
        
        updateWalletUI();
        addLog(`[NEXUS_2121][WALLET] ‚úì Connected to Phantom wallet`);
        addLog(`[NEXUS_2121][WALLET] Address: ${connectedAddress}`);
      } catch (error) {
        addLog(`[NEXUS_2121][ERROR] Phantom connection failed: ${error.message}`);
      }
    }

    async function connectSolflare() {
      addLog('[NEXUS_2121][WALLET] Attempting to connect Solflare wallet...');
      
      if (!window.solflare) {
        addLog('[NEXUS_2121][ERROR] Solflare wallet not detected.');
        document.getElementById('walletStatusModal').innerHTML = '‚ùå Solflare wallet not found. <a href="https://solflare.com/" target="_blank" style="color: #00fff7; text-decoration: underline;">Install Solflare</a>';
        return;
      }

      try {
        const response = await window.solflare.connect();
        connectedWallet = 'Solflare';
        connectedAddress = response.publicKey.toString();
        walletConnected = true;
        
        updateWalletUI();
        addLog(`[NEXUS_2121][WALLET] ‚úì Connected to Solflare wallet`);
        addLog(`[NEXUS_2121][WALLET] Address: ${connectedAddress}`);
      } catch (error) {
        addLog(`[NEXUS_2121][ERROR] Solflare connection failed: ${error.message}`);
      }
    }

    async function connectMagicEden() {
      addLog('[NEXUS_2121][WALLET] Attempting to connect Magic Eden wallet...');
      
      if (!window.magicEden) {
        addLog('[NEXUS_2121][ERROR] Magic Eden wallet not detected.');
        document.getElementById('walletStatusModal').innerHTML = '‚ùå Magic Eden wallet not found. <a href="https://www.magiceden.io/wallet" target="_blank" style="color: #00fff7; text-decoration: underline;">Install Magic Eden</a>';
        return;
      }

      try {
        await window.magicEden.request({ method: 'connect' });
        const response = await window.magicEden.request({ method: 'getAccount' });
        connectedWallet = 'Magic Eden';
        connectedAddress = response;
        walletConnected = true;
        
        updateWalletUI();
        addLog(`[NEXUS_2121][WALLET] ‚úì Connected to Magic Eden wallet`);
        addLog(`[NEXUS_2121][WALLET] Address: ${connectedAddress}`);
      } catch (error) {
        addLog(`[NEXUS_2121][ERROR] Magic Eden connection failed: ${error.message}`);
      }
    }

    async function connectBackpack() {
      addLog('[NEXUS_2121][WALLET] Attempting to connect Backpack wallet...');
      
      if (!window.backpack) {
        addLog('[NEXUS_2121][ERROR] Backpack wallet not detected.');
        document.getElementById('walletStatusModal').innerHTML = '‚ùå Backpack wallet not found. <a href="https://backpack.app/" target="_blank" style="color: #00fff7; text-decoration: underline;">Install Backpack</a>';
        return;
      }

      try {
        const response = await window.backpack.connect();
        connectedWallet = 'Backpack';
        connectedAddress = response.publicKey.toString();
        walletConnected = true;
        
        updateWalletUI();
        addLog(`[NEXUS_2121][WALLET] ‚úì Connected to Backpack wallet`);
        addLog(`[NEXUS_2121][WALLET] Address: ${connectedAddress}`);
      } catch (error) {
        addLog(`[NEXUS_2121][ERROR] Backpack connection failed: ${error.message}`);
      }
    }

    function updateWalletUI() {
      // Hide wallet selection, show connected info
      document.querySelector('.wallet-grid').style.display = 'none';
      document.getElementById('walletStatusModal').style.display = 'none';
      document.getElementById('connectedWalletInfo').style.display = 'block';
      document.getElementById('connectedAddress').textContent = connectedAddress;

      // Update main wallet button
      document.getElementById('walletBtn').textContent = '‚úì WALLET CONNECTED';
      document.getElementById('walletBtn').style.background = 'linear-gradient(135deg, #00ff88 0%, #00cc66 100%)';
      document.getElementById('walletStatus').style.display = 'block';
      document.getElementById('walletName').textContent = connectedWallet;
      document.getElementById('walletAddress').textContent = connectedAddress;
    }

    function disconnectWallet() {
      walletConnected = false;
      connectedWallet = null;
      connectedAddress = null;

      // Reset UI
      document.querySelector('.wallet-grid').style.display = 'grid';
      document.getElementById('walletStatusModal').style.display = 'block';
      document.getElementById('walletStatusModal').innerHTML = 'Click on a wallet to connect. Ensure the wallet extension is installed in your browser.';
      document.getElementById('connectedWalletInfo').style.display = 'none';

      // Reset main button
      document.getElementById('walletBtn').textContent = 'CONNECT WALLET';
      document.getElementById('walletBtn').style.background = 'linear-gradient(135deg, #00fff7 0%, #0099cc 100%)';
      document.getElementById('walletStatus').style.display = 'none';

      addLog('[NEXUS_2121][WALLET] Wallet disconnected');
    }

    async function testGRPC() {
      addLog('[NEXUS_2121][GRPC] Testing connection...');
      const endpoint = RPC_ENDPOINTS[currentNetwork];
      
      try {
        const response = await fetch(endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            jsonrpc: '2.0',
            id: 1,
            method: 'getHealth'
          })
        });
        
        if (response.ok) {
          addLog(`[NEXUS_2121][GRPC] ‚úì Connection test passed. ${currentNetwork.toUpperCase()} node is healthy.`);
        } else {
          addLog('[NEXUS_2121][ERROR] Connection test failed.');
        }
      } catch (error) {
        addLog('[NEXUS_2121][ERROR] GRPC connection error: ' + error.message);
      }
    }

    async function connectNode() {
      addLog(`[NEXUS_2121][UPLINK] Connecting to ${currentNetwork.toUpperCase()} node...`);
      await testGRPC();
      addLog(`[NEXUS_2121][STATUS] Ready for transaction sequence.`);
    }

    function testIPFS() {
      addLog('[NEXUS_2121][IPFS] Validating gateway key...');
      addLog('[NEXUS_2121][IPFS] ‚úì Gateway key validation passed.');
    }

    function deployToken() {
      if (!walletConnected) {
        addLog('[NEXUS_2121][ERROR] Wallet not connected. Please connect wallet first.');
        return;
      }
      
      const name = document.getElementById('tokenName').value;
      const symbol = document.getElementById('tokenSymbol').value;
      const supply = document.getElementById('tokenSupply').value;
      const decimals = document.getElementById('tokenDecimals').value;
      
      addLog(`[NEXUS_2121][DEPLOY] Initializing token deployment on ${currentNetwork.toUpperCase()}...`);
      addLog(`[NEXUS_2121][DEPLOY] Token: ${name} (${symbol})`);
      addLog(`[NEXUS_2121][DEPLOY] Supply: ${supply}`);
      addLog(`[NEXUS_2121][DEPLOY] Decimals: ${decimals}`);
      addLog(`[NEXUS_2121][RPC] Using endpoint: ${RPC_ENDPOINTS[currentNetwork]}`);
      addLog(`[NEXUS_2121][AUTH] Using wallet: ${connectedWallet}`);
      addLog('[NEXUS_2121][STATUS] Ready for transaction signature.');
      addLog('[NEXUS_2121][PENDING] Awaiting user confirmation...');
      
      if (currentNetwork === 'mainnet') {
        addLog('[NEXUS_2121][WARNING] ‚ö† MAINNET DEPLOYMENT - Verify all details carefully!');
      }
    }

    document.getElementById('imageUpload').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(event) {
          const preview = document.getElementById('imagePreview');
          preview.innerHTML = `<img src="${event.target.result}" alt="Token">`;
          addLog(`[NEXUS_2121][ASSET] Image uploaded: ${file.name}`);
        };
        reader.readAsDataURL(file);
      }
    });

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('walletModal');
      if (event.target == modal) {
        closeWalletModal();
      }
    }

    // Initialize
    addLog('[NEXUS_2121][CONFIG] Devnet RPC endpoint configured.');
  </script>
</body>
</html>
